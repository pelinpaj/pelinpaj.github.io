<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta name="keywords" content="unos visor, Elin, Johansson, Ninja, Agborn, barnvisor, svenska" />
    <meta name="description" content="Näsvisor - unika, vackra och viktiga barnlåtar med skoj och allvar. Finurligt illustrerade av konstnären Ninja Agborn." />
    <title>Unos visor</title>

    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />

    <link href="videojs/video-js.css" rel="stylesheet" type="text/css">
    <script src="videojs/video.js"></script>

    <style>
      html {
      height: 100&%;
      width: 100vw;
      background: url(blue.jpg) no-repeat center center fixed;
      /*background-color: black;*/
      -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover;
      background-size: cover;
      margin: 0 auto;
      padding: 0;
      overflow: hidden;
      overflow-y: hidden; /* has to be scroll, not auto */
      -webkit-overflow-scrolling: touch;
      }
      
      body {
      height: 100vh;
      width: 100vw;
      background: url(blue.jpg) no-repeat center center fixed;
      /*background-color: black;*/
      -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover;
      background-size: cover;
      margin: 0 auto;
      padding: 0;
      overflow: hidden;
      overflow-y: hidden; /* has to be scroll, not auto */
      -webkit-overflow-scrolling: touch;
      position: relative;
      }
      
      .all {
      height: 100%;
      width: 100%;
      position: absolute;
      top: 0; right: 0; bottom: 0; left: 0;
      margin: 0 auto;
      text-align: center;	  
      }

      .menu {
      height: 100%;
      width: 100%;
      position: absolute;
      top: 0; right: 0; bottom: 0; left: 0;
      margin: 0 auto;
      display: table;
      }
      
      .flex-container {
      /*
      display: -webkit-flex;
      display: flex;
      */
      width: 100%;
      height: 50%;
      margin: 0 auto;
      display: table-row;
      border-collapse: collapse;
      }
      
      .flex-item {
      width: 33%;
      height: 49%;
      top: 0; right: 0; bottom: 0; left: 0;
      margin: 0 auto;
      text-align: center;
      display: table-cell;
      border-style: solid;
      border-width: 0px;
      border-color: blue;
      }
      
      img {
      width: calc(0.5*(25vw + 44vh));
      height: (0.5*(25vw + 44vh));
      top: 0; right: 0; bottom: 0; left: 0;
      margin-top: 0px;
      margin-bottom: 0px;
      margin: 1 auto;
      border-style: solid;
      border-width: 0px;
      border-color: black;
      }

      .imgall {
      width: 100vh;
      height: 100vh;
      top: 0; right: 0; bottom: 0; left: 0;
      margin-top: 0px;
      margin-bottom: 0px;
      margin: 1 auto;
      border-style: solid;
      border-width: 0px;
      border-color: black;
      align:middle;
      }

      a {
      -webkit-tap-highlight-color: transparent;
      -webkit-backface-visibility:  hidden;
      -webkit-tap-highlight-color: rgba(0,0,0,0);
      }
      
      .videoContainer
      {
      position:absolute;
      height:100%;
      width:100%;
      max-width: 100%;
      min-height: 100%;
      margin 0px auto;
      border: 0px solid blue;
      padding: 0;
      overflow: hidden;
      text-align: center;
      visibility: hidden;
      }
      
      .videoContainer video
      {
      width: 100%;
      height: 100%;
      max-width: 100%;
      min-height: 100%;
      text-align: center;
      margin 0 auto;
      border: 0px solid blue;
      padding: 0;
      overflow: hidden;
      }
      
      .vjs-default-skin .vjs-volume-control { display: none; }
      
      .vjs-default-skin .vjs-fullscreen-control:before {
      /*content: 'back'; */
      content: url(back.svg);
      }
      
      .vjs-loading-spinner {
      display: none !important;
      }
      
      .vjs-waiting {
      background: transparent;
      }
      
      .vjs-control-bar { display:none!important; }
      
      video::-webkit-media-controls-panel-container {
      display: none !important;
      }

      video::-webkit-media-controls-panel,
      video::-webkit-media-controls-panel-container,
      video::-webkit-media-controls-start-playback-button {
      display:none !important;
      -webkit-appearance: none;
      }

      #image-valj {
      position: absolute;
      top: 41%;
      left: 18%;
      }

      .image-valj {
      width: 46vh;
      height: 13vh;
      /*align:middle;*/
      }

      #image-varning {
      position: absolute;
      top: 52%;
      left: 56%;
      transform: rotate(20deg);
      }

      .image-varning {
      width: calc(0.5*(14vw + 27vh));
      height: calc(0.5*(5vw + 12vh));
      /*align:middle;*/
      }

    </style>


</head>

<body>
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript">
        app.initialize();
    </script>


    <div class="videoContainer" id="mycontainer" style="visibility:hidden">
      <video playsinline autoplay id="myvideo" class="video-js vjs-default-skin" controls preload="auto"
	     poster="black.png" data-setup='{}'>
	<source src="" type="video/mp4" id="mp4source">
      </video>
    </div>

    <div class="menu" id="mymenu" style="visibility:hidden">
      <div id="image-valj">
	<img class="image-valj" src="valj.png">
      </div>
      <div id="image-varning">
	<img class="image-varning" src="varning.png">
      </div>
      <div class="flex-container">
	<div class="flex-item">
	  <img src="gungagung.png" onclick="playVideo(['gungagung.mp4'], 0, 0)">
	</div>
	<div class="flex-item">
	  <img src="gonattsang.png" onclick="playVideo(['unosgodnattsang.mp4'], 0, 0)">
	</div>
	<div class="flex-item">
	  <img src="minmage.png" onclick="playVideo(['minmagearsomentrumma.mp4'], 0, 0)">
	</div>
      </div>
      <div class="flex-container">
	<div class="flex-item">
          <img src="ingenting.png" onclick="playVideo(['ingenting.mp4'], 0, 0)">
	</div>
	<div class="flex-item">
          <img src="maskinen.png" onclick="playVideo(['maskinen.mp4'], 0, 0)">
	</div>
	<div class="flex-item">
          <img src="alla.png" onclick="playVideo(['maskinen.mp4', 'ingenting.mp4', 'minmagearsomentrumma.mp4', 'unosgodnattsang.mp4', 'gungagung.mp4'], 4, 0)">
	</div>
      </div>
    </div>
    <div class="all" id="myall" style="visibility:hidden">
    <img class="imgall" src="alla.png">
    </div>
  </body>
  
    <script>
    function onBackKeyDown(e) {
      e.preventDefault();
    }
    
    document.addEventListener("backbutton", onBackKeyDown, false);

    function showMenu() {
      var videoid =document.getElementsByClassName("vjs-control-bar");
      videoid[0].style.setProperty("display", "none", "important");
      document.getElementById("mymenu").style.visibility='visible';
      document.getElementById("mycontainer").style.visibility='hidden';
      var mp4player = videojs("myvideo");
      mp4player.pause();
    }

    function playVideo(vids, idx, hidecontrolbar)
    {
    var mp4player = videojs("myvideo");
    mp4player.idx = idx
    mp4player.vids = vids
    mp4player.hidecontrolbar = hidecontrolbar	
    var sources = [{"type": "video/mp4", "src": vids[idx]}];
    mp4player.src(sources);
    //mp4player.load();

    //mp4player.pause();
    setTimeout(function()
    {
    document.getElementById("mycontainer").style.visibility='visible';
    document.getElementById("mymenu").style.visibility='hidden';
    document.getElementById("myall").style.visibility='hidden';
    if(hidecontrolbar != 1)
    {
      var videoid =document.getElementsByClassName("vjs-control-bar");
      videoid[0].style.setProperty("display", "flex", "important");
      var videoid =document.getElementsByClassName("vjs-control-bar");
      videoid[0].style.setProperty("display", "flex", "important");
    }
    mp4player.play();
    
    },2000)

    //setTimeout(function()
    //{
    //  navigator.splashscreen.hide();
    //},1000)

    }


    function showLogo() {
      playVideo(['logo.mp4'], 0, 1);
    }

    var mp4player = videojs("myvideo");
    mp4player.on('ended', function() {
	idx = mp4player.idx
	vids = mp4player.vids
	hidecontrolbar = mp4player.hidecontrolbar
	//alert(idx);
	
	if (idx == 0)
	{
          showMenu();
        }
	else
	{
	  document.getElementById("myall").style.visibility='visible';
	  document.getElementById("mycontainer").style.visibility='hidden';
          playVideo(vids, idx-1, hidecontrolbar);
	}
    }
    )

    showLogo();
    //showMenu();
</script>


</html>
